(this["webpackJsonpreact_redux-list-of-todos"]=this["webpackJsonpreact_redux-list-of-todos"]||[]).push([[0],{25:function(e,t,c){},26:function(e,t,c){},28:function(e,t,c){},29:function(e,t,c){},30:function(e,t,c){"use strict";c.r(t);var n=c(8),s=c.n(n),r=c(3),a=c(16),o=c(4),i=c(12),u=c(15),l="GET_TODOS",d="DELETE_TODO",j="GET_USER",b="SELECT_USER",p="GET_ERROR",O=function(e){return{type:l,todos:e}},h=function(e){return{type:d,id:e}},f=function(e){return{type:j,user:e}},m=function(e){return{type:b,userId:e}},_=function(e){return{type:p,messageError:e}},x=function(e){return e.todos},v=function(e){return e.user},T=function(e){return e.userId},L=function(e){return e.messageError},N={todos:[],user:null,userId:0,messageError:""},E=Object(i.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return Object(o.a)(Object(o.a)({},e),{},{todos:t.todos});case d:return Object(o.a)(Object(o.a)({},e),{},{todos:e.todos.filter((function(e){return e.id!==t.id}))});case j:return Object(o.a)(Object(o.a)({},e),{},{user:t.user});case b:return Object(o.a)(Object(o.a)({},e),{},{userId:t.userId});case p:return Object(o.a)(Object(o.a)({},e),{},{messageError:t.messageError});default:return e}}),Object(u.composeWithDevTools)()),y=E,C=c(7),g=c(5),k=c.n(g),I=c(0),w="https://mate.academy/students-api";function A(){return D.apply(this,arguments)}function D(){return(D=Object(C.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(w,"/todos"));case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e){return U.apply(this,arguments)}function U(){return(U=Object(C.a)(k.a.mark((function e(t){var c;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(w,"/users/").concat(t));case 2:return c=e.sent,e.abrupt("return",c.json());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}c(25),c(26);var R=c(1),P=function(){var e=Object(r.c)(T),t=Object(r.c)(L),c=Object(r.c)(v),n=Object(r.b)();function s(){return(s=Object(C.a)(k.a.mark((function t(){var c;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,S(e);case 3:c=t.sent,n(f(c)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),n(_("Can not load the user.\n        Please reload the page."));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}Object(I.useEffect)((function(){!function(){s.apply(this,arguments)}()}),[e]);var a=Object(I.useCallback)((function(){n(m(0))}),[]);return Object(R.jsx)(R.Fragment,{children:c?Object(R.jsxs)("div",{className:"CurrentUser",children:[Object(R.jsx)("h2",{className:"CurrentUser__title",children:Object(R.jsxs)("span",{children:["Selected user:\xa0",c.id]})}),Object(R.jsx)("h3",{className:"CurrentUser__name","data-cy":"userName",children:c.name}),Object(R.jsx)("p",{className:"CurrentUser__email",children:c.email}),Object(R.jsx)("p",{className:"CurrentUser__phone",children:c.phone}),Object(R.jsx)("button",{type:"button",onClick:function(){return a()},className:"CurrentUser__clear",children:"Clear"})]}):Object(R.jsx)("p",{children:t})})},B=c(6),G=(c(28),c(10)),M=c.n(G),V=function(){var e,t=Object(r.c)(x),c=Object(r.c)(T),n=Object(I.useState)(""),s=Object(B.a)(n,2),a=s[0],o=s[1],i=Object(I.useState)("all"),u=Object(B.a)(i,2),l=u[0],d=u[1],j=Object(I.useState)(t),b=Object(B.a)(j,2),p=b[0],O=b[1],f=Object(r.b)();!function(e){e.ALL="all",e.COMPLITED="completed",e.ACTIVE="active"}(e||(e={}));var _=Object(I.useCallback)((function(e){f(h(e))}),[]),v=Object(I.useCallback)((function(e){f(m(e))}),[]);return Object(I.useEffect)((function(){O(t),function(){var c=t.filter((function(t){var c=t.title.toLowerCase().includes(a.trim().toLowerCase());return""!==a.trim()&&l===e.ALL?c:l===e.COMPLITED?c&&t.completed:l!==e.ACTIVE||c&&!t.completed}));O(c)}()}),[t,a,l]),Object(R.jsxs)("div",{className:"TodoList",children:[Object(R.jsxs)("h2",{children:["Todos:\xa0",p.length,"\xa0from\xa0",t.length]}),Object(R.jsxs)("div",{className:"TodoList__inputs-group",children:[Object(R.jsxs)("div",{className:"TodoList__inputs",children:[Object(R.jsx)("input",{className:"TodoList__input","data-cy":"filterByTitle",type:"text",name:"title",value:a,onChange:function(e){o(e.target.value)}}),Object(R.jsx)("p",{className:"TodoList__input-name",children:"Search a case"})]}),Object(R.jsxs)("div",{className:"TodoList__inputs",children:[Object(R.jsxs)("select",{className:"TodoList__input TodoList__input--select",name:"status",value:l,onChange:function(e){d(e.target.value)},children:[Object(R.jsx)("option",{value:e.ALL,children:"Demonstrate all"}),Object(R.jsx)("option",{value:e.ACTIVE,children:"Demonstrate active"}),Object(R.jsx)("option",{value:e.COMPLITED,children:"Demonstrate completed"})]}),Object(R.jsx)("p",{className:"TodoList__input-name",children:"Select status"})]})]}),Object(R.jsx)("div",{className:"TodoList__list-container",children:Object(R.jsx)("ul",{className:"TodoList__list","data-cy":"listOfTodos",children:p.map((function(e){return Object(R.jsxs)("li",{className:M()("TodoList__item",{"TodoList__item--unchecked":!e.completed,"TodoList__item--checked":e.completed}),children:[Object(R.jsxs)("label",{children:[Object(R.jsx)("input",{type:"checkbox",readOnly:!0,checked:e.completed}),Object(R.jsx)("p",{children:e.title})]}),e.userId&&Object(R.jsxs)("div",{className:"TodoList__buttons",children:[Object(R.jsxs)("button",{type:"button","data-cy":"userButton",onClick:function(){return v(Number(e.userId))},className:M()("TodoList__user-button","button",{"TodoList__user-button--selected":c===Number(e.userId)}),children:["User\xa0#",e.userId]}),Object(R.jsx)("button",{type:"button",onClick:function(){return _(Number(e.id))},className:M()("TodoList__todo-button",{"TodoList__todo-button--selected":c===Number(e.userId)}),children:"DELETE"})]})]},e.id)}))})})]})},J=(c(29),function(){var e=Object(r.c)(T),t=Object(r.c)(L),c=Object(r.b)();return Object(I.useEffect)((function(){function e(){return(e=Object(C.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A();case 3:t=e.sent,c(O(t)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),c(_("Can not load todos"));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(R.jsxs)("div",{className:"App",children:[Object(R.jsx)("h1",{children:"Redux list of todos"}),0===t.length?Object(R.jsxs)("div",{className:"App__main",children:[Object(R.jsx)("div",{className:"App__sidebar",children:Object(R.jsx)(V,{})}),Object(R.jsx)("div",{className:"App__content",children:Object(R.jsx)("div",{className:"App__content-container",children:e?Object(R.jsx)(P,{}):"No user selected"})})]}):Object(R.jsx)("p",{className:"App__error",children:t})]})}),F=function(){return Object(R.jsx)(r.a,{store:y,children:Object(R.jsx)(a.a,{children:Object(R.jsx)(J,{})})})};s.a.render(Object(R.jsx)(F,{}),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.39bc0760.chunk.js.map